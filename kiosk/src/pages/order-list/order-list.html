<!--
  Generated template for the OrderListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-row class="order-list-title">
  <ion-col col-5 align-self-center>
      <button ion-button icon-only clear (click)="back()" style="font-size:4.5vw;color:#FF5F3A">
        <ion-icon name="md-close"></ion-icon>
      </button>
  </ion-col>
  <ion-col align-self-center outline text-left style="font-size:4.5vw;color:#FF5F3A">
    메뉴 주문서  
  </ion-col>
  <ion-col col-3 align-right align-self-center>
      <button ion-button outline (click)="resetCart()" style="font-size:3.5vw;">전체삭제</button>
  </ion-col>   
  </ion-row>
</ion-header>

<ion-content>
<div class="pickup-area">
<ion-row  class="pickup-method">
  <ion-col text-center> 
    <button class="circle" [style.background-color]="inStoreColor" (click)="selectInStore()" ion-button> &nbsp;</button>
  </ion-col>
  <ion-col text-center *ngIf="cartProvider.takeoutAvailable">
    <button class="circle" [style.background-color]="takeoutColor" (click)="selectTakeOut()" ion-button> &nbsp;</button>
  </ion-col>
</ion-row>
<ion-row  class="pickup-method">
  <ion-col [style.color]="inStoreColor" no-padding no-margin text-center> 
    매장
  </ion-col>
  <ion-col text-center *ngIf="cartProvider.takeoutAvailable" [style.color]="takeoutColor" no-padding no-margin text-center>
    포장
  </ion-col>
</ion-row>
</div>

<div>
  <ion-row class="notify-check">
    <ion-col col-4>
    </ion-col>
    <ion-col col-1 no-padding no-margin text-center align-self-center>
      <ion-icon *ngIf="orderNotify" (click)="configureOrderNotify()" name="md-checkbox-outline">
      </ion-icon>
      <ion-icon *ngIf="!orderNotify" (click)="configureOrderNotify()" name="md-square-outline">
      </ion-icon>
    </ion-col>
    <ion-col text-left>
        <ion-label>주문서 휴대폰 발송</ion-label>
    </ion-col>
  </ion-row>
  <ion-row [hidden]="!orderNotify">
    <ion-col col-4></ion-col>
    <ion-col text-center style="font-size:3vw;">
      <ion-item>
      <ion-input text-center #phoneInput style="font-size:4vw;" type="tel" placeholder="주문서 발송 번호" (keyup)="inputPhoneNumber($event)" [(ngModel)]="phoneNumber"> </ion-input>
      </ion-item>
    </ion-col>
    <ion-col col-3></ion-col>
  </ion-row>
  <ion-row [hidden]="!orderNotify">
     <ion-col col-4></ion-col>
    <ion-col text-center no-padding no-margin>
      주문서 전달을 원하시지 않을 경우<br> 주문서 휴대폰 발송을 해제해주세요. 
    </ion-col>
    <ion-col col-3></ion-col>
  </ion-row>
  <ion-row text-center *ngIf="!orderNotify">
    <ion-col col-3>
    </ion-col>
    <ion-col text-center>
     영수증/주문서가 필요하신 분은 <br>주문서 휴대폰 발송을 선택해 주세요.<br>환경을 위해 문자로 전달됩니다. <!--환경을 위해 주문서 핸드폰 발송을 사용해주세요. --><!--<br>출력된 주문서는 카운터에서 수령가능합니다.-->
    </ion-col>
    <ion-col col-3>
    </ion-col>
  </ion-row>  
</div>
<div class="menu" *ngFor="let menu of cartProvider.orderList; let i=index;">
    <ion-row>
        <ion-col col-3 text-center>
          <button ion-button outline (click)="delete(i)">삭제</button>
        </ion-col>
        <ion-col col-5>
            <ion-row>
              <ion-col>
                {{menu.menuName}}
              </ion-col>
            </ion-row>
            <ion-row  class="gray-small" *ngFor="let option of menu.options">
              <ion-col>
                {{option.name}} x {{option.number}} &nbsp; <span *ngIf="option.select!==undefined">{{option.select}}</span> 
              </ion-col>
            </ion-row>
            <ion-row class="gray-small">
              <ion-col>
                수량
              </ion-col>
            </ion-row>  
        </ion-col>
        <ion-col col-4>
          <ion-row>
            <ion-col>
                <amount-display [amount]="menu.amount"></amount-display>원
            </ion-col>
          </ion-row>
          <ion-row  class="gray-small" *ngFor="let option of menu.options">
              <ion-col>
                +{{option.price*option.number}}
              </ion-col>
          </ion-row>
          <ion-row class="gray-small">
            <ion-col>
                {{menu.quantity}}개
            </ion-col>
          </ion-row>
        </ion-col>
    </ion-row>
<!--    
    <ion-row class="gray-small" *ngIf="menu.memo!=null && menu.memo!=undefined">
      <ion-col col-3>
      </ion-col>
      <ion-col col-2>
        요청사항
      </ion-col>
      <ion-col>
        {{menu.memo}}
      </ion-col>
    </ion-row>
-->
</div>

</ion-content>

<ion-footer style="border-top: solid 3px #ff7f39;" no-padding no-margin>
<ion-row style="background-color:#ff7f39;color:white;height:60px;" *ngIf="cartProvider.orderName.length>0">
  <ion-col style="font-size:3.5vw;" text-center align-self-center>
  결제금액
  </ion-col>
  <ion-col style="font-size:4.5vw;" text-center align-self-center>
    <amount-display [amount]="cartProvider.totalAmount"></amount-display>원
  </ion-col>
</ion-row>
<ion-row  no-padding no-margin>
<!--  
  <ion-col class="footer-area" no-padding no-margin text-center align-self-center>
    <button (click)="moveCashPayment()" clear ion-button no-padding no-margin>
      <ion-icon name="ios-cash-outline"></ion-icon>&nbsp;현금 결제 
    </button>
  </ion-col>
  -->
  <ion-col class="footer-area" no-padding no-margin text-center align-self-center>
    <button (click)="moveCardPayment()" ion-button no-padding no-margin clear>    
      <ion-icon name="card"></ion-icon>&nbsp;카드 결제 
    </button>
  </ion-col>
</ion-row>
</ion-footer>

