<!--
  Generated template for the ShopPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar hideBackButton>
  <ion-buttons start>
    <button style="background-color:white;color:#6441a5;" (click)="back()" ><ion-icon style="font-size:4.8vw;" name="ios-arrow-back"></ion-icon></button>
  </ion-buttons>
  <ion-title>  {{shopName}} &nbsp;
              <a *ngIf="storageProvider.shopResponse.shopInfo.contactPhone" [href]="shopPhoneHref"><ion-icon color="black" name="call"></ion-icon></a>
  </ion-title>
  <ion-buttons end>
        <button *ngIf="storeInfoHide" ion-button (click)="showInfoDisplay()" style="background-color:white;color:#6441a5;">
            <ion-icon  class="store-information-button"name="ios-information-circle-outline"></ion-icon>
        </button>
        <button *ngIf="!storeInfoHide" ion-button (click)="hideInfoDisplay()" style="background-color:white;color:#6441a5;">        
            <ion-icon  class="store-information-button"name="ios-arrow-up"></ion-icon>
        </button>
  </ion-buttons>
  </ion-navbar>
  
</ion-header>

<ion-content #shophomeContent>
<!--
<div [hidden]="!storeInfoHide">    
<div class="shop-img" [ngStyle]="ngStyle">
<ion-row text-right *ngIf="storageProvider.shopResponse.shopInfo.paymethod.cash!=undefined">
    <ion-col text-right><span *ngIf="storageProvider.shopResponse.shopInfo.paymethod.cash=='0%'">&nbsp;&nbsp;캐시결제&nbsp;&nbsp;</span>
                        <span *ngIf="storageProvider.shopResponse.shopInfo.paymethod.cash!='0%'">&nbsp;&nbsp;캐시결제{{storageProvider.shopResponse.shopInfo.paymethod.cash}}할인&nbsp;&nbsp;</span>
    </ion-col>
</ion-row>
<ion-row text-right *ngIf="storageProvider.shopResponse.shopInfo.paymethod.card!=undefined">
    <ion-col text-right><span *ngIf="storageProvider.shopResponse.shopInfo.paymethod.card=='0%'">&nbsp;&nbsp;카드결제&nbsp;&nbsp;</span>
                        <span *ngIf="storageProvider.shopResponse.shopInfo.paymethod.card!='0%'"> &nbsp;&nbsp;카드결제{{storageProvider.shopResponse.shopInfo.paymethod.card}}할인&nbsp;&nbsp;</span>
    </ion-col>
</ion-row>
</div>
</div>
-->
<div [hidden]="storeInfoHide">
<ion-row>
<ion-col no-padding class="shop-text-info">
<label class="label">주문시간</label>  <span class="value">{{storageProvider.shopResponse.shopInfo.TodayBusinessTime}}</span>
</ion-col>
<ion-col no-padding  class="shop-text-info" *ngIf="storageProvider.shopResponse.shopInfo.breakTime!=null">
<label class="label">브레이크</label>  <span class="value"> {{storageProvider.shopResponse.shopInfo.breakTime}} </span>
</ion-col>
</ion-row>
<ion-row>
<ion-col no-padding div class="shop-text-info" *ngIf="storageProvider.shopResponse.shopInfo.shopPhone!=null && storageProvider.shopResponse.shopInfo.shopPhone!=undefined">
<label class="label">전화번호</label>  <span class="value">{{storageProvider.shopResponse.shopInfo.shopPhone}} </span>
</ion-col>
<ion-col no-padding  class="shop-text-info" *ngIf="regularOff!=undefined && regularOff.length>0">
<label class="label">휴무요일</label>  <span class="value"> {{regularOff}} </span>
</ion-col>
</ion-row>
<div class="shop-text-info">
<label class="label">주소</label>  <span class="value">{{shop.shopInfo.address}}</span>

</div>
<div class="shop-text-info" *ngIf="shop.shopInfo.deliveryArea!=null && takitId!='세종대@더큰도시락'">
<label class="label">배달</label>  <span class="value"><amount-display [amount]="shop.shopInfo.freeDelivery"></amount-display>원이상 무료 배송</span>
</div>

<div class="shop-text-info" *ngIf="shop.shopInfo.deliveryArea!=null && takitId=='세종대@더큰도시락'">
<label class="label">배달</label>  <span class="value"><amount-display [amount]="shop.shopInfo.freeDelivery"></amount-display>원이상 배송료 1,000원</span>
</div>

<div class="shop-text-info" *ngIf="shop.shopInfo.foodOrigin!=null">
<label class="label">원산지</label>  <span class="value">{{shop.shopInfo.foodOrigin}}</span>
</div>
</div>
<ion-row class="row-categories-menus">
             <ion-col col-3 class="col-categories" no-padding>
                <ion-scroll scrollY="true" class="scroll-categories">
                    <ion-list>
                        <ion-item *ngFor="let category of categories;let i=index;">
                          <button style="font-size:3.4vw" value="i" (click)="categoryClick(i+1)" color="white" ion-button full  no-padding no-margin>
                           <p style="font-size:4vw;" text-left [style.color]="configureButtonColor(i)" text-wrap> {{category.categoryName}} </p>
                          </button>
                        </ion-item>
                    </ion-list>
                </ion-scroll>
             </ion-col>
            <ion-col  col-9 class="col-menus">
                <ion-scroll scrollY="true">
                <ion-row *ngFor="let menu of menus" no-padding no-margin>
                    <ion-col no-padding>
                    <button color="white" (click)="selectMenu(menu[0])"ion-button full no-padding no-margin>
                        <ion-item class="left" no-padding>
                            <!--
                             <img class="img-shop" [src]="storageProvider.awsS3+menu[0].imagePath">
                             -->
                             <div text-center class="img-shop" [ngStyle]="menu[0].ngStyle">
                              <label *ngIf="menu[0].soldout==1" class="sold-out"> <b>판매종료</b></label>
                              <label *ngIf="menu[0].soldout==0"> &nbsp;&nbsp;&nbsp;&nbsp;</label>
                             </div>

                            <h2 *ngIf="menu[0].menuName.length<=12">{{menu[0].menuName}}</h2>
                            <h2 *ngIf="menu[0].menuName.length>12"> {{split1(menu[0].menuName)}}</h2>
                            <h2 *ngIf="menu[0].menuName.length>12"> {{split2(menu[0].menuName)}}</h2>

                            <p><amount-display [amount]="menu[0].price"></amount-display>원 <span class="text-border" *ngIf="menu[0].takeout>0 && shop.shopInfo.deliveryArea==null" >&nbsp;&nbsp;포장&nbsp;&nbsp;</span> 
                                                 <span class="text-border" *ngIf="menu[0].takeout>0 && shop.shopInfo.deliveryArea!=null" >&nbsp;&nbsp;포장/배달&nbsp;&nbsp;</span></p>
                        </ion-item>
                    </button>
                    </ion-col>
                    <ion-col no-padding>
                    <button *ngIf="menu[1]" (click)="selectMenu(menu[1])" color="white" ion-button full no-padding no-margin>
                        <ion-item no-padding>
                            <!--
                             <img class="img-shop" [src]="storageProvider.awsS3+menu[1].imagePath">
                             -->
                             <div text-center class="img-shop" [ngStyle]="menu[1].ngStyle">
                              <label *ngIf="menu[1].soldout==1" class="sold-out"> <b>판매종료</b></label>
                              <label *ngIf="menu[1].soldout==0"> &nbsp;&nbsp;&nbsp;&nbsp;</label>
                             </div>                             

                            <h2 *ngIf="menu[1].menuName.length<=12">{{menu[1].menuName}}</h2>
                            <h2 *ngIf="menu[1].menuName.length>12"> {{split1(menu[1].menuName)}}</h2>
                            <h2 *ngIf="menu[1].menuName.length>12"> {{split2(menu[1].menuName)}}</h2>

                            <p><amount-display [amount]="menu[1].price"></amount-display>원 <span class="text-border" *ngIf="menu[1].takeout>0 && shop.shopInfo.deliveryArea==null" >&nbsp;&nbsp;포장&nbsp;&nbsp;</span> 
                                                   <span class="text-border" *ngIf="menu[1].takeout>0 && shop.shopInfo.deliveryArea!=null" >&nbsp;&nbsp;포장/배달&nbsp;&nbsp;</span></p> 
                        </ion-item>
                    </button>
                    <button *ngIf="!menu[1]" color="white" ion-button full no-padding no-margin>
                        <ion-item no-padding>
                        </ion-item>
                    </button>
                    </ion-col>
                </ion-row>
                </ion-scroll>
            </ion-col>
</ion-row>

<ion-fab bottom right>
    <button class="fab-btn" (click)="openCart()" ion-fab color="white">
      <custom-icon set="tabs" name="cart"></custom-icon>
    </button>
</ion-fab>

</ion-content>
